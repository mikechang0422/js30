<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Array Cardio ğŸ’ªğŸ’ª</title>
</head>
<body>
  <p><em>Psst: have a look at the JavaScript Console</em> ğŸ’</p>
  <script>
    // ## Array Cardio Day 2

    const people = [
      { name: 'Wes', year: 1988 },
      { name: 'Kait', year: 1986 },
      { name: 'Irv', year: 1970 },
      { name: 'Lux', year: 2015 }
    ];

    const comments = [
      { text: 'Love this!', id: 523423 },
      { text: 'Super good', id: 823423 },
      { text: 'Super good2', id: 823423 },
      { text: 'You are the best', id: 2039842 },
      { text: 'Ramen is my fav food ever', id: 123523 },
      { text: 'Nice Nice Nice!', id: 542328 }
    ];

    // Some and Every Checks
    // Array.prototype.some() // is at least one person 19 or older?
    // Array.prototype.every() // is everyone 19 or older?

    let ansSome = people.some(p => {  //åªè¦æœ‰ä¸€å€‹æ˜¯trueå‰‡consoleç‚ºtrue
      return new Date().getUTCFullYear() - p.year >= 19 // Date().getUTCFullYear()ç•¶å‰æ™‚é–“ä¾ç…§UTCæŠ“å–å¹´ä»½
    })
    console.log(ansSome)

    let ansEvery = people.every(p => {  //åªè¦æœ‰ä¸€å€‹æ˜¯falseå‰‡consoleç‚ºfalse
      return new Date().getUTCFullYear() - p.year >= 19 // Date().getUTCFullYear()ç•¶å‰æ™‚é–“ä¾ç…§UTCæŠ“å–å¹´ä»½
    })
    console.log(ansEvery)



    // Array.prototype.find()
    // Find is like filter, but instead returns just the one you are looking for
    // find the comment with the ID of 823423

    let ansFind = comments.find(comment => comment.id === 823423) //find() å°‹æ‰¾è³‡æ–™è·Ÿfilterä¸ä¸€æ¨£çš„æ˜¯findæ‰¾åˆ°ä¸€å€‹å°±æœƒåœæ­¢å°‹æ‰¾
    console.log('é€™æ˜¯ansFind',ansFind)

    let ansFilter = comments.filter(comment => comment.id === 823423) //find() å°‹æ‰¾è³‡æ–™è·Ÿfindä¸ä¸€æ¨£çš„æ˜¯filterå°‹æ‰¾å…¨éƒ¨
    console.log('é€™æ˜¯ansFilter',ansFilter)



    // Array.prototype.findIndex()
    // Find the comment with this ID

    let ansFindIndex = comments.findIndex(comment => comment.id === 823423) //findIndex() å°‹æ‰¾è³‡æ–™è·Ÿfindä¸ä¸€æ¨£çš„æ˜¯findIndexæ˜¯æœƒä»¥æ•¸å­—é¡¯ç¤ºæœ‰æ²’æœ‰æ‰¾åˆ° æœ‰æ‰¾åˆ°ç‚º1 æ²’æ‰¾åˆ°ç‚º-1 è·Ÿfindä¸€æ¨£æ‰¾åˆ°ç¬¬ä¸€å€‹å°±æœƒåœæ­¢ 
    console.log('é€™æ˜¯ansFindIndex',ansFindIndex)

    // delete the comment with the ID of 823423

    //ä¸Šé¢çš„è¦æ±‚æ˜¯è¦åˆªæ‰id 823423 åˆªæ‰æœ‰å…©ç¨® slice è·Ÿ splice

    //slice åšæ³•ç‚ºè¤‡è£½ä¸€ä»½åŸå§‹è³‡æ–™åœ¨åšå‹•ä½œ
    let ansSlice1 = comments.slice(0,ansFindIndex) //å¾é ­åˆ°ç›®æ¨™ä½ç½®å‰åˆ‡æˆä¸€æ®µ
    let ansSlice2 = comments.slice(ansFindIndex + 1) //å¾ç›®æ¨™å¾Œä¸€è™Ÿåˆ°æœ€å¾Œåˆ‡ä¸€æ®µ
    console.log('é€™æ˜¯ansSlice1&2',ansSlice1,ansSlice2) //å¯ä»¥çœ‹åˆ°goodè¢«å¿½ç•¥äº†
    let ansSlice3 = [...ansSlice1 , ...ansSlice2] //è§£æ§‹ é‡æ–°çµ„åˆæˆæ–°çš„ç‰©ä»¶
    console.log('é€™æ˜¯ansSlice3',ansSlice3) //å¯ä»¥çœ‹åˆ°æ–°çš„é™£åˆ—å°±æ²’æœ‰goodäº†ä½†æ²’æœ‰å‹•åˆ°åŸå§‹è³‡æ–™æ’åˆ— å¥½è™•æ˜¯ä¸æœƒå‹•åˆ°apiä¾†çš„è³‡æ–™

    //æ­£å¼é–‹ç™¼æ™‚ç¯€çœcodeå¯«æˆ
    let ansSlice = [...comments.slice(0,ansFindIndex) , ...comments.slice(ansFindIndex + 1)]
    console.log('é€™æ˜¯ansSlice',ansSlice)



    //splice å…ˆè¤‡è£½ä½ç½®å†å°è¤‡è£½çš„ä½ç½®å‹•åˆ€
    let ansSplice = [...comments].splice(ansFindIndex,1)
    console.log('é€™æ˜¯ansSplice & comments',ansSplice,comments)
    //splice ç›´æ¥å°apiä¾†çš„è³‡æ–™å‹•åˆ€
    let ansSplice1 = comments.splice(ansFindIndex,1) //splice(ä½ç½®,åˆªé™¤æ•¸é‡(å€‹),åŒä½ç½®å¢åŠ å…§å®¹) splice(ä½ç½®,1)åˆªé™¤ä¸€å€‹  splice(ä½ç½®,0,aaa)ä¸åˆªé™¤åœ¨è©²ä½ç½®å¢åŠ aaaå…§å®¹
    console.log('é€™æ˜¯ansSplice1 & comments',ansSplice1,comments) //å‰é¢ç‚ºå“ªå€‹è¢«åˆªæ‰äº† å¾Œé¢ç‚ºåˆªæ‰å¾Œçš„ç‰©ä»¶


    //é¡å¤–  ç”¨find() å»ä¿®æ”¹orå¢åŠ 
    let cart = [
      { id:1 , count:1 },
      { id:2 , count:1 },
      { id:3 , count:1 },
      { id:4 , count:1 },
      { id:5 , count:1 }
    ] 

    let item = cart.find(item =>{
      console.log(item.id)
      return item.id ===3  //æ‰¾ç¬¬ä¸‰å€‹
    })

    item.count = 5
    console.log(cart)


    //èªªæ˜è¤‡è£½ä½ç½®çš„è§€å¿µ
    let newCart1 = [...cart] //è§£æ§‹
    newCart1[0].count = 5
    console.log('newCard1',cart[0],newCart1[0])

    let newCart2 = [...cart.slice(0)] //è§£æ§‹
    newCart2[0].count = 5
    console.log('newCard2',cart[0],newCart2[0])
    //å¯ä»¥çœ‹åˆ°ä»¥ä¸Šå…©ç¨®éƒ½æ˜¯æŠŠç‰©ä»¶çš„é™£åˆ—æ‹‰å‡ºä¾†æ”¾åœ¨å¦ä¸€å€‹ç‰©ä»¶ ä½†å…©å€‹æºé ­éƒ½æ˜¯ä¸€æ¨£çš„,jså¦‚æœè¦è¤‡è£½å°±è¦åƒä¸Šé¢çš„sliceä¸€æ¨£è‡ªå·±åšä¸€å€‹æ–°é™£åˆ—æˆ–è€…jsonæŠŠé™£åˆ—æ”¹å­—ä¸²åœ¨æ”¹é™£åˆ—ä¸Ÿçµ¦å¦ä¸€å€‹ æˆ–è€…ç”¨object.assign

    //èªªæ˜

    let obj1 = {count: 1}
    let obj2 = obj1
    let obj3 = Object.assign({},obj2)  //object.assign
    let obj4 = JSON.parse(JSON.stringify(obj3)) //jsonå­—ä¸²

    obj1.count = 5
    
    console.log('obj1.count+obj2.count+obj3.count+obj4.count =',
    obj1.count,'+',obj2.count,'+',obj3.count,'+',obj4.count,'=', obj1.count + obj2.count + obj3.count + obj4.count) // 5+5+1+1

    //ç”¨arrayåŒ…ç‰©ä»¶ ary1åœ¨ç”¨jsonè¤‡è£½array (ä½†jsonä¸èƒ½æœ‰function)  ary2ç”¨object.assign
    let ary = [{name: 'mike'},{name:'candy'}]
    let ary1 = JSON.parse(JSON.stringify(ary))
    let ary2 = ary.map((item)=>{
      return Object.assign({},item)
    })

    console.log(ary[0] === ary1[0],ary[0] === ary2[0]) //false å› ç‚ºç¶“éjsonè·Ÿobject.assignæ˜¯ä¸ä¸€æ¨£çš„çŸ©é™£äº†
  </script>
</body>
</html>
