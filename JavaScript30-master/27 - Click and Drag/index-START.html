<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Click and Drag</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="items">
    <div class="item item1">01</div>
    <div class="item item2">02</div>
    <div class="item item3">03</div>
    <div class="item item4">04</div>
    <div class="item item5">05</div>
    <div class="item item6">06</div>
    <div class="item item7">07</div>
    <div class="item item8">08</div>
    <div class="item item9">09</div>
    <div class="item item10">10</div>
    <div class="item item11">11</div>
    <div class="item item12">12</div>
    <div class="item item13">13</div>
    <div class="item item14">14</div>
    <div class="item item15">15</div>
    <div class="item item16">16</div>
    <div class="item item17">17</div>
    <div class="item item18">18</div>
    <div class="item item19">19</div>
    <div class="item item20">20</div>
    <div class="item item21">21</div>
    <div class="item item22">22</div>
    <div class="item item23">23</div>
    <div class="item item24">24</div>
    <div class="item item25">25</div>
  </div>

<script>

// const list = document.querySelector('.items');
// let startX = 0;


// const startDrag =function(e){
//   list.classList.add('active');
//   startX = e.pageX;
// }
// const dragHandler =function(e){
//   if(list.classList.contains('active')){//當是mousedown時才啟動
//   let move = e.pageX - startX;//移動的距離
//   startX = e.pageX;//移動後要把座標移到新的位置
//   list.scrollLeft -= move * 3;//拖曳跟移動方向是反的 *3只是為了拉一點點畫面就滑很遠
// }}
// const stopDrag =function(){
//   list.classList.remove('active');
// }
// dragHandler

// list.addEventListener('mousedown',startDrag);//手機的話就要改用touchstart
// list.addEventListener('mousemove',dragHandler);//touchmove
// list.addEventListener('mouseup',stopDrag);//touchend
// list.addEventListener('mouseleave',stopDrag);



//第二種作法 
const list = document.querySelector('.items');
let startX = 0;
let startScroll = 0;
let startTime = 0;

const startDrag =function(e){
  list.classList.add('active');
  startX = e.pageX;
  startScroll = list.scrollLeft;//起始點 跟第一種不一樣的是拿原點計算 不一直更新原點位置
  startTime = new Date().getTime();//手指滑動的時間
}
const dragHandler =function(e){
  if(list.classList.contains('active')){
  let move = e.pageX - startX;
  list.scrollLeft = startScroll - move * 3;
}}
const stopDrag =function(){
  list.classList.remove('active');
  if(new Date().getTime() - startTime <= 500){//手指滑動的時間 < .5s
  if(e.pageX > startX){
    console.log('swiper right');
  }
  else if (e.pageX < startX){
    console.log('swiper left');
  }}
}

list.addEventListener('mousedown',startDrag);//手機的話就要改用touchstart
list.addEventListener('mousemove',dragHandler);//touchmove
list.addEventListener('mouseup',stopDrag);//touchend
list.addEventListener('mouseleave',stopDrag);

</script>

  </body>
</html>
